(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{11:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__2OTOB",ImageGalleryItemImage:"ImageGalleryItem_ImageGalleryItemImage__265jL"}},12:function(e,t,a){e.exports={Button:"Button_Button__1vaBT",LoadMoreBtn:"Button_LoadMoreBtn__25e3b"}},13:function(e,t,a){e.exports={Overlay:"Modal_Overlay__3Tlaz",Modal:"Modal_Modal___5MK3",ModalImage:"Modal_ModalImage__pbjUD"}},41:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),o=a(15),i=a.n(o),s=a(3),c=a(4),l=a(6),m=a(5),u=a(11),d=a.n(u),h=a(0),g=function(e){var t=e.src,a=e.alt,n=e.id,r=e.onClick;return Object(h.jsx)("li",{className:d.a.ImageGalleryItem,onClick:r,children:Object(h.jsx)("img",{src:t,alt:a,id:n,className:d.a.ImageGalleryItemImage})})},p=function(e,t){return fetch("https://pixabay.com/api/?q="+e+"&page="+t+"&key=22611406-1fc8dc647f338efc8b1d9d866&image_type=photo&orientation=horizontal&per_page=12").then((function(e){return e.json()})).then((function(e){return e.hits}))},j=a(8),b=a.n(j),f=(a(14),a(9)),O=a.n(f),v=function(e){Object(l.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={isLoading:!1},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.setState({isLoading:!0});var t=this.props,a=t.searchWord,n=t.setImages;p(a,1).then((function(t){n(t),e.setState({isLoading:!1})}))}},{key:"componentDidUpdate",value:function(e,t){var a=this,n=e.searchWord,r=this.props.searchWord,o=this.props.setImages;n!==r&&(this.setState({isLoading:!0}),p(r,1).then((function(e){o(e),a.setState({isLoading:!1})})))}},{key:"render",value:function(){var e=this.props,t=e.images,a=e.onClick,n=this.state.isLoading;return Object(h.jsx)("div",{className:O.a.ImageGalleryContainer,children:n?Object(h.jsx)(b.a,{className:O.a.Loader,type:"Circles",color:"#003cff",height:80,width:80}):Object(h.jsx)("ul",{className:O.a.ImageGallery,children:t.map((function(e){return Object(h.jsx)(g,{src:e.webformatURL,alt:e.tags,id:e.id,onClick:a},e.id)}))})})}}]),a}(r.a.Component),I=a(7),y=a.n(I),S=function(e){Object(l.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={inputValue:""},e.onSubmitForm=function(t){var a=e.props.onSubmit,n=e.state.inputValue;t.preventDefault(),a(n)},e.onHandleChangeInput=function(t){e.setState({inputValue:t.target.value})},e}return Object(c.a)(a,[{key:"render",value:function(){var e=this.state.inputValue;return Object(h.jsx)("header",{className:y.a.Searchbar,onSubmit:this.onSubmitForm,children:Object(h.jsxs)("form",{className:y.a.SearchForm,children:[Object(h.jsx)("button",{type:"submit",className:y.a.SearchFormButton,children:Object(h.jsx)("span",{className:y.a.SearchFormButtonLabel,children:"Search"})}),Object(h.jsx)("input",{className:y.a.SearchFormInput,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",onChange:this.onHandleChangeInput,value:e})]})})}}]),a}(r.a.Component),_=a(12),x=a.n(_),L=function(e){Object(l.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={page:1,isLoading:!1},e.OnHadleClickLoadMoreButton=function(){var t=e.state.page;e.setState({page:t+1})},e}return Object(c.a)(a,[{key:"componentDidUpdate",value:function(e,t){var a=this,n=t.page,r=this.state.page,o=this.props,i=o.searchWord,s=o.LoadMoreImages;n!==r&&(this.setState({isLoading:!0}),p(i,r).then((function(e){s(e),a.setState({isLoading:!1})})).then(window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})))}},{key:"render",value:function(){var e=this.state.isLoading;return Object(h.jsx)("div",{className:x.a.LoadMoreBtn,children:e?Object(h.jsx)(b.a,{type:"Circles",color:"#003cff",height:80,width:80}):Object(h.jsx)("button",{className:x.a.Button,type:"button",onClick:this.OnHadleClickLoadMoreButton,children:"Load More"})})}}]),a}(r.a.Component),C=a(13),M=a.n(C),k=function(e){var t=e.image,a=e.onClick;return Object(h.jsx)("div",{className:M.a.Overlay,onClick:a,id:"overley",children:Object(h.jsx)("div",{className:M.a.Modal,children:Object(h.jsx)("img",{src:t.largeImageURL,alt:t.tags})})})},B=function(e){Object(l.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={images:[],isModalOpen:!1,searchWord:"",modalImage:{}},e.onHadleSubmitForm=function(t){""!==t.trim()&&e.setState({searchWord:t,images:[]})},e.setImages=function(t){e.setState({images:t})},e.LoadMoreImages=function(t){var a=e.state.images;e.setState({images:a.concat(t)})},e.onHandleCloseModal=function(t){"overley"===t.target.id&&e.setState({isModalOpen:!1})},e.onHandleClickImage=function(t){var a=e.state.images.find((function(e){return t.target.id===String(e.id)}));e.setState({isModalOpen:!0,modalImage:a}),document.addEventListener("keydown",(function(t){"Escape"===t.code&&e.setState({isModalOpen:!1})}))},e}return Object(c.a)(a,[{key:"render",value:function(){var e=this.state,t=e.images,a=e.isModalOpen,n=e.modalImage,r=e.searchWord;return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(S,{onSubmit:this.onHadleSubmitForm}),""!==r.trim()&&Object(h.jsx)(v,{images:t,onClick:this.onHandleClickImage,setImages:this.setImages,searchWord:r}),t.length>0&&Object(h.jsx)(L,{searchWord:r,LoadMoreImages:this.LoadMoreImages}),a&&Object(h.jsx)(k,{image:n,onClick:this.onHandleCloseModal})]})}}]),a}(r.a.Component);i.a.render(Object(h.jsx)(r.a.StrictMode,{children:Object(h.jsx)(B,{})}),document.getElementById("root"))},7:function(e,t,a){e.exports={Searchbar:"SearchBar_Searchbar__2PaLT",SearchForm:"SearchBar_SearchForm__33m6e",SearchFormButton:"SearchBar_SearchFormButton__3ZgDX",SearchFormButtonLabel:"SearchBar_SearchFormButtonLabel__2dj1v",SearchFormInput:"SearchBar_SearchFormInput__1VAWh"}},9:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__2t9jk",ImageGalleryContainer:"ImageGallery_ImageGalleryContainer__1xuXp"}}},[[41,1,2]]]);
//# sourceMappingURL=main.a96ff79f.chunk.js.map